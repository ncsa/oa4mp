<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.18) on Thu Apr 13 10:58:13 CDT 2023 -->
<title>AbstractPayloadHandler (Top level OA4MP 5.3-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-04-13">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractPayloadHandler (Top level OA4MP 5.3-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractPayloadHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">edu.uiuc.ncsa.myproxy.oa4mp.oauth2.claims</a></div>
<h2 title="Class AbstractPayloadHandler" class="title">Class AbstractPayloadHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.oa4mp.server.loader.oauth2.claims.AbstractPayloadHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code>, <code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io" class="externalLink">Serializable</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="AbstractAccessTokenHandler.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.claims">AbstractAccessTokenHandler</a></code>, <code><a href="../tokens/BasicRefreshTokenHandler.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.tokens">BasicRefreshTokenHandler</a></code>, <code><a href="IDTokenHandler.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.claims">IDTokenHandler</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">AbstractPayloadHandler</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></pre>
<div class="block"><p>Created by Jeff Gaynor<br>
 on 4/21/20 at  5:00 PM</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../serialized-form.html#org.oa4mp.server.loader.oauth2.claims.AbstractPayloadHandler">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected net.sf.json.JSONObject</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#claims">claims</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../OA2SE.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2">OA2SE</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#oa2se">oa2se</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected javax.servlet.http.HttpServletRequest</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#request">request</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../storage/transactions/OA2ServiceTransaction.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.storage.transactions">OA2ServiceTransaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#transaction">transaction</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.oa4mp.server.loader.oauth2.claims.PayloadHandlerConfigImpl)">AbstractPayloadHandler</a></span>&#8203;(<a href="PayloadHandlerConfigImpl.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.claims">PayloadHandlerConfigImpl</a>&nbsp;payloadHandlerConfig)</code></th>
<td class="colLast">
<div class="block">Create the instance for the authorization phase, while there is an <code>HttpServletRequest</code> with possible
 headers that need to be processed.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doServerVariables(net.sf.json.JSONObject)">doServerVariables</a></span>&#8203;(net.sf.json.JSONObject&nbsp;targetClaims)</code></th>
<td class="colLast">
<div class="block">Used by access tokens and refresh tokens.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSubstitution(java.lang.String,net.sf.json.JSONObject,net.sf.json.JSONObject)">doSubstitution</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;key,
              net.sf.json.JSONObject&nbsp;targetClaims,
              net.sf.json.JSONObject&nbsp;x)</code></th>
<td class="colLast">
<div class="block">Do template substitutions for subject, audience, resource and issuer.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>net.sf.json.JSONObject</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#execute(org.oa4mp.delegation.server.claims.server.ClaimSource,net.sf.json.JSONObject)">execute</a></span>&#8203;(<a href="../../../../oa4mp/delegation/oa2/server/claims/ClaimSource.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.server.claims">ClaimSource</a>&nbsp;source,
       net.sf.json.JSONObject&nbsp;claims)</code></th>
<td class="colLast">
<div class="block">Runs this specific claim source against the internal state of this class.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>net.sf.json.JSONObject</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClaims()">getClaims</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the claims (the actual payload).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>net.sf.json.JSONObject</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExtendedAttributes()">getExtendedAttributes</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the extended attributes from the current transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="PayloadHandlerConfigImpl.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.claims">PayloadHandlerConfigImpl</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPhCfg()">getPhCfg</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getResponseCode()">getResponseCode</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getToken(edu.uiuc.ncsa.security.util.jwk.JSONWebKey)">getToken</a></span>&#8203;(edu.uiuc.ncsa.security.util.jwk.JSONWebKey&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Returns the payload from this handler encoded with a key, if applicable.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleResponse(edu.uiuc.ncsa.security.util.scripting.ScriptRunResponse)">handleResponse</a></span>&#8203;(edu.uiuc.ncsa.security.util.scripting.ScriptRunResponse&nbsp;resp)</code></th>
<td class="colLast">
<div class="block">This takes the response from a script and unmarshalls the resources</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasScript()">hasScript</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEmpty(java.lang.String)">isEmpty</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;x)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#listToString(java.util.List)">listToString</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&nbsp;list)</code></th>
<td class="colLast">
<div class="block">A utility to take a list and convert it to a blank delimited string.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#refresh()">refresh</a></span>()</code></th>
<td class="colLast">
<div class="block">If the claims need to be updated (e.g.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setClaims(net.sf.json.JSONObject)">setClaims</a></span>&#8203;(net.sf.json.JSONObject&nbsp;claims)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setExtendedAttributes(net.sf.json.JSONObject)">setExtendedAttributes</a></span>&#8203;(net.sf.json.JSONObject&nbsp;extendedAttributes)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPhCfg(org.oa4mp.delegation.server.jwt.PayloadHandlerConfig)">setPhCfg</a></span>&#8203;(<a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandlerConfig.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandlerConfig</a>&nbsp;phCfg)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setResponseCode(int)">setResponseCode</a></span>&#8203;(int&nbsp;responseCode)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.oa4mp.delegation.server.jwt.PayloadHandler">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt.<a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></h3>
<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#addRequestState(edu.uiuc.ncsa.security.util.scripting.ScriptRunRequest)">addRequestState</a>, <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#checkClaims()">checkClaims</a>, <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#finish(java.lang.String)">finish</a>, <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getSources()">getSources</a>, <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#init()">init</a>, <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#refreshAccountingInformation()">refreshAccountingInformation</a>, <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#saveState()">saveState</a>, <a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#setAccountingInformation()">setAccountingInformation</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="transaction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transaction</h4>
<pre>protected&nbsp;<a href="../storage/transactions/OA2ServiceTransaction.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.storage.transactions">OA2ServiceTransaction</a> transaction</pre>
</li>
</ul>
<a id="oa2se">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>oa2se</h4>
<pre>protected&nbsp;<a href="../OA2SE.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2">OA2SE</a> oa2se</pre>
</li>
</ul>
<a id="claims">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claims</h4>
<pre>protected&nbsp;net.sf.json.JSONObject claims</pre>
</li>
</ul>
<a id="request">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>request</h4>
<pre>protected&nbsp;javax.servlet.http.HttpServletRequest request</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.oa4mp.server.loader.oauth2.claims.PayloadHandlerConfigImpl)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractPayloadHandler</h4>
<pre>public&nbsp;AbstractPayloadHandler&#8203;(<a href="PayloadHandlerConfigImpl.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.claims">PayloadHandlerConfigImpl</a>&nbsp;payloadHandlerConfig)</pre>
<div class="block">Create the instance for the authorization phase, while there is an <code>HttpServletRequest</code> with possible
 headers that need to be processed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>payloadHandlerConfig</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getPhCfg()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPhCfg</h4>
<pre class="methodSignature">public&nbsp;<a href="PayloadHandlerConfigImpl.html" title="class in edu.uiuc.ncsa.myproxy.oa4mp.oauth2.claims">PayloadHandlerConfigImpl</a>&nbsp;getPhCfg()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getPhCfg()">getPhCfg</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
</dl>
</li>
</ul>
<a id="getClaims()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClaims</h4>
<pre class="methodSignature">public&nbsp;net.sf.json.JSONObject&nbsp;getClaims()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getClaims()">PayloadHandler</a></code></span></div>
<div class="block">Get the claims (the actual payload).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getClaims()">getClaims</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="setClaims(net.sf.json.JSONObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClaims</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setClaims&#8203;(net.sf.json.JSONObject&nbsp;claims)</pre>
</li>
</ul>
<a id="setExtendedAttributes(net.sf.json.JSONObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExtendedAttributes</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setExtendedAttributes&#8203;(net.sf.json.JSONObject&nbsp;extendedAttributes)</pre>
</li>
</ul>
<a id="getExtendedAttributes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExtendedAttributes</h4>
<pre class="methodSignature">public&nbsp;net.sf.json.JSONObject&nbsp;getExtendedAttributes()</pre>
<div class="block">Gets the extended attributes from the current transaction. See <a href="../storage/transactions/OA2ServiceTransaction.html#getExtendedAttributes()"><code>OA2ServiceTransaction.getExtendedAttributes()</code></a>
 for more.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getExtendedAttributes()">getExtendedAttributes</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="isEmpty(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;isEmpty&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;x)</pre>
</li>
</ul>
<a id="execute(org.oa4mp.delegation.server.claims.server.ClaimSource,net.sf.json.JSONObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre class="methodSignature">public&nbsp;net.sf.json.JSONObject&nbsp;execute&#8203;(<a href="../../../../oa4mp/delegation/oa2/server/claims/ClaimSource.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.server.claims">ClaimSource</a>&nbsp;source,
                                      net.sf.json.JSONObject&nbsp;claims)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#execute(org.oa4mp.delegation.server.claims.server.ClaimSource,net.sf.json.JSONObject)">PayloadHandler</a></code></span></div>
<div class="block">Runs this specific claim source against the internal state of this class.
 Note that the contract is that it returns the updated claims and if there
 are no new claims, it should just return its claims argument.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#execute(org.oa4mp.delegation.server.claims.server.ClaimSource,net.sf.json.JSONObject)">execute</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a id="refresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;refresh()
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#refresh()">PayloadHandler</a></code></span></div>
<div class="block">If the claims need to be updated (e.g. for a refresh and the timestamps need
 adjusting) this method needs to be called. It's contract is to reget all of the
 claims.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#refresh()">refresh</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a id="setPhCfg(org.oa4mp.delegation.server.jwt.PayloadHandlerConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPhCfg</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setPhCfg&#8203;(<a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandlerConfig.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandlerConfig</a>&nbsp;phCfg)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#setPhCfg(org.oa4mp.delegation.server.jwt.PayloadHandlerConfig)">setPhCfg</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
</dl>
</li>
</ul>
<a id="getToken(edu.uiuc.ncsa.security.util.jwk.JSONWebKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getToken</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getToken&#8203;(edu.uiuc.ncsa.security.util.jwk.JSONWebKey&nbsp;key)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getToken(edu.uiuc.ncsa.security.util.jwk.JSONWebKey)">PayloadHandler</a></code></span></div>
<div class="block">Returns the payload from this handler encoded with a key, if applicable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getToken(edu.uiuc.ncsa.security.util.jwk.JSONWebKey)">getToken</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="setResponseCode(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setResponseCode</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setResponseCode&#8203;(int&nbsp;responseCode)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#setResponseCode(int)">setResponseCode</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
</dl>
</li>
</ul>
<a id="getResponseCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponseCode</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getResponseCode()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#getResponseCode()">getResponseCode</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
</dl>
</li>
</ul>
<a id="handleResponse(edu.uiuc.ncsa.security.util.scripting.ScriptRunResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleResponse</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleResponse&#8203;(edu.uiuc.ncsa.security.util.scripting.ScriptRunResponse&nbsp;resp)
                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#handleResponse(edu.uiuc.ncsa.security.util.scripting.ScriptRunResponse)">PayloadHandler</a></code></span></div>
<div class="block">This takes the response from a script and unmarshalls the resources</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#handleResponse(edu.uiuc.ncsa.security.util.scripting.ScriptRunResponse)">handleResponse</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a id="listToString(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listToString</h4>
<pre class="methodSignature">protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;listToString&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&nbsp;list)</pre>
<div class="block">A utility to take a list and convert it to a blank delimited string.
 This is returned by any number of handlers. Note that objects</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>list</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="hasScript()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasScript</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasScript()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html#hasScript()">hasScript</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../oa4mp/delegation/oa2/jwt/PayloadHandler.html" title="interface in edu.uiuc.ncsa.oa4mp.delegation.oa2.jwt">PayloadHandler</a></code></dd>
</dl>
</li>
</ul>
<a id="doServerVariables(net.sf.json.JSONObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doServerVariables</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doServerVariables&#8203;(net.sf.json.JSONObject&nbsp;targetClaims)</pre>
<div class="block">Used by access tokens and refresh tokens. This allows for certain substitutions for various server
 variables.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>targetClaims</code> - </dd>
</dl>
</li>
</ul>
<a id="doSubstitution(java.lang.String,net.sf.json.JSONObject,net.sf.json.JSONObject)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>doSubstitution</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doSubstitution&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;key,
                              net.sf.json.JSONObject&nbsp;targetClaims,
                              net.sf.json.JSONObject&nbsp;x)</pre>
<div class="block">Do template substitutions for subject, audience, resource and issuer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - </dd>
<dd><code>targetClaims</code> - </dd>
<dd><code>x</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractPayloadHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</body>
</html>
