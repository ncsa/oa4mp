<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>OAuth for MyProxy</title>
    <style type="text/css" media="all">
        @import url("./css/oa4mp-custom.css");
        @import url("./css/oa4mp-theme.css");
        @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    </head>
<body class="composite">
<div id="banner">
                        <a href="http://www.ncsa.illinois.edu/" id="bannerLeft"  >
        
                                                                    <img src="css/images/ncsalogo_sm-2.gif" alt="NCSA"/>
        
                </a>
                                    <a href="https://ncsa.github.io/oa4mp/" id="bannerRight"  >
        
                                                                    <img src="css/images/oa4mp-logo-small-2.png" alt="OA4MP site CSS"/>
        
                </a>
                <div class="clear">
        <hr/>
    </div>
</div>
<div id="breadcrumbs">
            
    

    
        
                        
    
        
                    <div class="xleft">
            Last Published: 2025-09-04
                                </div>
                <div class="xright">            
    

    
        
                        
    
        
                         Version: 6.x-SNAPSHOT
            </div>
    <div class="clear">
        <hr/>
    </div>
</div>
<div id="leftColumn">
    <div id="navcolumn">
                
    

    
        
                        
    
        
                               <h5>OA4MP</h5>
                        <ul>
                    
    <li class="none">
                <strong>FAQ</strong>
        </li>
              
    <li class="none">
                        <a href="server/index.html">Server</a>
            </li>
              
    <li class="none">
                        <a href="client/index.html">Client</a>
            </li>
              
    <li class="none">
                        <a href="common/configuration/supported-specifications.html">Supported specification</a>
            </li>
              
    <li class="none">
                        <a href="https://github.com/ncsa/oa4mp" class="externalLink">Source</a>
            </li>
              
    <li class="none">
                        <a href="apidocs/index.html">api docs</a>
            </li>
              </ul>
                            <h5>Project Documentation</h5>
                        <ul>
                    
                            
                                        
                                    
                                    
                            
            <li class="collapsed">
                        <a href="project-info.html">Project Information</a>
                        </li>
              
                            
                                        
                            
            <li class="collapsed">
                        <a href="project-reports.html">Project Reports</a>
                        </li>
              </ul>
                                               <a href="http://maven.apache.org/" title="Built by Maven"
           class="poweredBy">
            <img class="poweredBy"
                 alt="Built by Maven"
                 src="http://maven.apache.org/images/logos/maven-feather.png"
                 width="90"
                 height="30"
                 border="1"/>
        </a>
                           
    

    
        
                        
    
        
        </div>
</div>
<div id="bodyColumn">
    <div id="contentBox">
        <section>
<h2><a name="FAQ"></a><a name="top">FAQ</a></h2>
<ol style="list-style-type: decimal">
<li><a href="#what_is_oa4mp">What is OA4MP?
            </a></li>
<li><a href="#History">Where did OA4MP come from?</a></li>
<li><a href="#what_libraries_are_used">What libraries does it use?</a></li>
<li><a href="#client_library_support">My client is using library X in language Y. Will it work with OA4MP?</a></li>
<li><a href="#Are_JWTs_supported">Are JWTs (Java Web Tokens) supported?</a></li>
<li><a href="#value_added">Ther are tons of OAuth and OIDC servers. What does OA4MP offer?</a></li>
<li><a href="#Policy_example">What sorts of policies might an OA4MP server implements</a></li>
<li><a href="#offline_access_scope_supported">Does OA4MP support the offline_access scope?</a></li></ol></section>
<dl>
<dt><a name="what_is_oa4mp">What is OA4MP?
            </a></dt>
<dd>OA4MP stands for &quot;Open Authorization for Many People&quot; (formerly &quot;Open Authorization for MyProxy&quot;)
                and is an implementation of the OAuth 2 specification
            
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="History">Where did OA4MP come from?</a></dt>
<dd>The original version was written as part of <a class="externalLink" href="https://www.cilogon.org">CILogon</a>,
                the <a class="externalLink" href="https://www.ncsa.illinois.edu/">NCSA</a>'s venerable platform for integrated
                identity and access management in the Sciences. When it started (ca. 2010), there
                were no tokens, simply X.509 certificates. A very evil but common practice was that
                researchers would have to give their credentials (username and password) to institutions
                to run scientific computing jobs on their behalf. This cannot be condemned highly enough
                from a security perspective. CILogon offered (and still does) an excellent solution.
                OA4MP is the Open Authorization machinery for CIlogon.
                As time passed, it became clear that tokens should replace X.509 certificates for various
                reasons and OA4MP did as well. The major users of certificates have migrated to tokens and
                OA4MP has, as ever, been on the cutting edge for adding support.
            
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="what_libraries_are_used">What libraries does it use?</a></dt>
<dd>OA4MP predates the OAuth 2 specification and was initially a native
                OAuth 1.0a implementation. As such, it came into existence independently of
                any other implementations. It requires no other implementations. Moreover, it
                is quite mature and has been in production since roughly 2011 and supports most
                <a href="common/configuration/supported-specifications.html">standard major protocols</a>.
            
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="client_library_support">My client is using library X in language Y. Will it work with OA4MP?</a></dt>
<dd>Very probably yes. At current writing, in one project alone (CILogon) we have over
                1900 registered clients of various implementations (Python, Go, PHP, C++,
                JavaScript, Ruby, ...)
                If your client complies with
                standards (even some rather odd ones) it's a good bet it works with OA4MP just
                fine.
            
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="Are_JWTs_supported">Are JWTs (Java Web Tokens) supported?</a></dt>
<dd>Yes. Which means
                <a class="externalLink" href="https://www.rfc-editor.org/rfc/rfc7019">JWTs</a>
                and their <a class="externalLink" href="https://www.rfc-editor.org/rfc/rfc8725">best practices</a>.
                Not what you meant? A very common misconception is that JWTs (which is a format
                for tokens) are the same thing as access or identity tokens. OA4MP will happily
                issue tokens in various format with various specifications, such as SciTokens,
                WLCG tokens and <a class="externalLink" href="https://www.rfc-editor.org/rfc/rfc9068">basic</a>.
            
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="value_added">Ther are tons of OAuth and OIDC servers. What does OA4MP offer?</a></dt>
<dd>
                
<p>OA4MP offers a very long and distinguished service life -- it is very well
                    tested and has performed well for over a decade. It also supports a huge number of
                    <a href="common/configuration/supported-specifications.html">specifications</a>,
                    so there are rarely issues with any clients. Finally, it provides
                    a very elegant way to extend the service with an external scripting language,
                    <a class="externalLink" href="https://qdl-lang.org">QDL</a>
               </p>
                
<p>It is deployed as the backbone for <a class="externalLink" href="https://cilogon.org">CILogon</a>
                where it has as of this writing (5/24/2023), over 1900 registered clients from various platforms
                and nearly 248k registered logons.</p>
                
<p>A typical real world use is a large national scientific lab that has dozens of specialized
                    clients for various research projects, each of which has several
                    users. (See the policy example below).
                    There are token issuance policies for the institution
                    as well as very specific requirement for interoperations. These policies are implemented in
                    QDL which runs on OA4MP.
               </p>
            
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="Policy_example">What sorts of policies might an OA4MP server implements</a></dt>
<dd>
                
<p>This is taken from one of our customers. A user may authenticate with
                    any of a certain number of IDPs (Identity Providers). For some of these that are affiliates,
                    user information is searched in an external source (a private LDAP) and the user
                    is verified in that way. This is the institutional policy for access by
                    non-members. This permits institutions to collaborate on projects without, say, having to issue
                    temporary logins for external members.
               </p>
                
<p>Now we move on to policies for a client. (So a client in practice might
                    be for a specific research grant and allow access to the resources for that.)
                    Policies about what set of scopes with specific requests for access tokens
                    and identity information are honored. (Again, if users are at different institutions,
                    there may be different policies on what personal information may be disclosed.)
                    These typically require look ups in a database or LDAP.
                    Policies can be
                    applied based on other group memberships of the user. (E.g. a user that requests read access
                    to a MySQL database must be in the mysql-access group). It is possible to have extremely complex,
                    tailored policies that allow rigorous and exacting enforcement for each client. This forces
                    sane and coherent policies across multiple institutions.
               </p>
            
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="offline_access_scope_supported">Does OA4MP support the offline_access scope?</a></dt>
<dd>Jein (= yes and no, as the Germans say). offline_access is used to request
           a refresh token. OA4MP does indeed support refresh tokens, however,
           this is set as a policy for the client, so that takes precedence.
           If you supply the offline_access scope it is effectively ignored
           in favor of the configuration. You cannot, say, force a client to issue
           refresh tokens when its policy prevents that. In practice, if your
           client uses offline_access, just let it do what it normally does and
           OA4MP will do the right thing. If you think you should be getting a
           refresh token and aren't, that implies your client needs to update
           its configuration.
<p align="right"><a href="#top">[top]</a></p></dd></dl>
    </div>
</div>
<div class="clear">
    <hr/>
</div>
<div id="footer">
    <div class="xright">&#169;    
                    2025
        
                    
    

    
        
                        
    
        
    </div>
    <div class="clear">
        <hr/>
    </div>
</div>
</body>
</html>

